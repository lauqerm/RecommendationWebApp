{"version":3,"sources":["comp/atom/Loader/loading.gif","image/logo--full.png","serviceWorker.ts","redux/reducer/auth.ts","redux/reducer/profile.ts","redux/reducer/index.ts","route/history.tsx","redux/saga/index.ts","layout/Footer.tsx","com/fetcher.ts","comp/module/Logout.tsx","redux/action/auth.ts","com/shorten.ts","comp/atom/form/InputWithLabel.tsx","comp/atom/form/index.tsx","comp/atom/form/Rate.tsx","comp/atom/form/Checkbox.tsx","comp/atom/Card.tsx","comp/atom/Map.tsx","comp/atom/Loader/index.tsx","comp/atom/Split.tsx","comp/atom/Tag.tsx","comp/lang/Price.tsx","comp/lang/Review.tsx","comp/lang/Type.tsx","comp/module/filter/PriceFilter.tsx","comp/module/filter/ReviewFilter.tsx","comp/module/filter/TagFilter.tsx","comp/module/form/BareSearch.tsx","comp/module/form/Search.tsx","comp/module/TripDetail.tsx","comp/module/form/Login.tsx","comp/module/form/Register.tsx","comp/hoc/withCurrentUser.ts","comp/hoc/setCurrentUser.ts","comp/module/Showroom.tsx","comp/module/Dropdown.tsx","com/event.ts","comp/module/Review.tsx","layout/Header/HeaderAvatar.tsx","layout/Header/index.tsx","layout/Trip.tsx","layout/Profile.tsx","redux/action/profile.ts","route/user.tsx","layout/View/index.tsx","layout/index.tsx","App.tsx","route/index.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","$authorization","authStatus","token","currentUserId","username","role","authorization","state","arguments","length","undefined","action","type","Object","objectSpread","id","profile","defaultRootState","root","reducers","keys","reduce","nextState","key","createBrowserHistory","manipulateToken","sagaToken","regenerator_default","a","wrap","_context","prev","next","t0","call","localStorage","setItem","put","abrupt","removeItem","history","push","t1","stop","_marked","_context2","takeEvery","_marked2","FooterBar","react_default","createElement","className","API","defaultFetcherProps","header","params","timeout","Fetcher","GET","$props","props","_","merge","cloneDeep","getItem","source","tokenSource","axios","CancelToken","request","method","url","headers","json","cancelToken","POST","data","PATCH","makeBody","dataSet","body","_i","_Object$entries","entries","_ref3","_ref2","slicedToArray","dataKey","dataContent","interpretError","error","counter","status","message","isCancel","code","response","connect","dispatch","logout","auth_token","then","validateChain","value","keyChain","defaultValue","len","nextValue","cnt","preservingMerge","srcObj","$obj","obj","map","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","InputWithLabel","label","name","formId","disabled","inputProps","labelProps","customInput","disabledLabelProps","ownId","concat","_name","overrideValue","override","Fragment","assign","htmlFor","form","atom_form","labelList","styleClass","rating","valueList","range","$position","position","defaultChecked","data-value","title","checked","react_fontawesome_index_es","icon","$Card","_type","children","Card","Card_$Card","GoogleMap","width","height","meta","src","scrolling","Loader","mergeDeepRight","size","Split","dir","Tag","color","bgColor","baseColor","mode","rest","objectWithoutProperties","backgroundColor","borderColor","onMouseEnter","event","currentTarget","boxShadow","onMouseLeave","PriceLabel","PriceColorScheme","ReviewLabel","TagLabel","TagColorScheme","PriceFilter","onChange","InputWithLabel_InputWithLabel","Tag_Tag","min","max","js_default","maxValue","minValue","formatLabel","ReviewFilter","TagFilter","checkedList","element","index","BareSearch","onSubmit","onTagChange","onPriceChange","price","onReviewChange","review","display","gridArea","filter_TagFilter","getAttribute","filter_PriceFilter","filter_ReviewFilter","makeQuery","types","queries","isNaN","join","Search","_React$Component","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","preventDefault","_this$state","href","setState","Number","parseInt","_checkedList","debounce","initialCheckedList","inherits","createClass","cancel","_this$state2","_this$props","SearchModule","BareSearch_BareSearch","Dropdown_Dropdown","edge","align","persist","clickInside","containerClassname","dropClassname","overrideStatus","child","drop","React","Component","TripDetail","tripData","comment_amounts","destinations","travel","address","created_at","description","link","lower_price","updated_at","upper_price","fetchStatus","fetch","_Fetcher$GET","Math","round","forceUpdate","_this$tripData","showMap","backgroundImage","require","react_router_dom","to","indexOf","onClick","Map_GoogleMap","$LoginForm","formInputs","required","fetcherStatus","formData","e","submit","_response$data","auth","reload","_this2","LoginForm","withRouter","_RegisterForm","_getPrototypeOf2","_len","args","Array","_key","apply","_this$formData","password","repassword","RegisterForm","_state$authorization","mapAuthDispatchToProps","userId","withCurrentUser","$Showroom","suggestions","ready","externalQuery","success","catch","errorCode","successCode","Search_Search","module_TripDetail","Loader_Loader","getPosition","contSize","dropSize","__meta","smart","contHeight","contWidth","dropHeight","dropWidth","top","left","Dropdown","defaultMeta","clickOutside","_meta","isOpen","refCont","createRef","refDrop","handleOutsideClick","stopPropagation","currentRefDrop","current","currentRefCont","contains","target","toggleState","currentCont","currentDrop","_getPosition","getBoundingClientRect","visibility","bind","assertThisInitialized","document","addEventListener","removeEventListener","ref","retrieveInput","paramName","_value","rawValue","Review","$Review","lang","placeholder","missingComment","tooShortComment","missingRate","reviewData","user_id","travel_id","tripId","rated","tempRating","conmented","content","_this$reviewData","_Fetcher$POST","inputOnChange","textareaOnChange","inputOnMouseover","defaultRating","updatedDate","_updatedDate","Date","toLocaleString","hour12","onMouseOver","Split_Split","toString","AvatarDropdown","HeaderAvatar","HeaderAvatar_AvatarDropdown","borderRight","paddingRight","marginRight","reviews","comments","isAlreadyCommented","filter","Review_Review","comment","$Profile","mismatchPassword","oldPasswordMissing","updated","profileData","email","gender","oldpassword","favorites","onFavoriteChange","_retrieveInput2","currentValue","self","console","log","change","_this$profileData","_Fetcher$PATCH","nextProps","_this$props2","_this$profileData2","isCurrentUser","inputs","renderProfile","Profile","changeUsername","UserRoute","react_router","exact","path","render","Showroom","search","layout_Trip","Profile_Profile","module_Logout","View","textAlign","user_UserRoute","SiteContainer","Header","layout_View","Footer","library","add","faCheck","faSearch","faArrowRight","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","App","es","component","ReactDOM","src_App","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.5c4f0704.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.4a960e1e.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo--full.f9f85f2d.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AuthAction } from '../action/auth'\n\nexport interface AuthorizeState {\n\tauthStatus: boolean,\n\ttoken: string,\n\tcurrentUserId: string,\n\tusername: string,\n\trole: string,\n}\n\nconst $authorization = {\n\tauthStatus: false,\n\ttoken: '',\n\tcurrentUserId: '',\n\tusername: '',\n\trole: 'user',\n}\n\nexport const authorization = (state = $authorization, action: AuthAction): AuthorizeState => {\n\tswitch (action.type) {\n\t\tcase 'ADD_TOKEN': return {\n\t\t\t...state,\n\t\t\tauthStatus: true,\n\t\t\ttoken: action.token\n\t\t}\n\t\tcase 'ADD_USER_ID': return {\n\t\t\t...state,\n\t\t\tauthStatus: true,\n\t\t\tcurrentUserId: action.id\n\t\t}\n\t\tcase 'LOGGED_OUT': return {\n\t\t\t...state,\n\t\t\t...$authorization,\n\t\t}\n\t\tcase 'AUTH_WRITTEN': {\n\t\t\tconst { id, username, token, role } = action\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tauthStatus: true,\n\t\t\t\tcurrentUserId: id,\n\t\t\t\tusername: username,\n\t\t\t\ttoken: token,\n\t\t\t\trole: role,\n\t\t\t}\n\t\t}\n\t\tdefault: return state\n\t}\n}","import { AuthorizeState } from './auth'\nimport { ProfileAction } from '../action/profile'\n\nconst $authorization = {\n\tauthStatus: false,\n\ttoken: '',\n\tcurrentUserId: '',\n\tusername: '',\n\trole: 'user',\n}\n\nexport const profile = (state = $authorization, action: ProfileAction): AuthorizeState => {\n\tswitch (action.type) {\n\t\tcase 'CHANGE_USERNAME': return {\n\t\t\t...state,\n\t\t\tusername: action.username\n\t\t}\n\t\tdefault: return state\n\t}\n}","import { AnyAction } from 'redux'\nimport { authorization } from './auth'\nimport { profile } from './profile'\n\nconst defaultRootState: any = {}\nconst root = (state = defaultRootState, action: AnyAction) => {\n\tconst reducers: {\n\t\t[key: string]: (state: any, action: any) => any\n\t} = {\n\t\tauthorization,\n\t\tprofile\n\t}\n\n\tconst nextState = Object.keys(reducers).reduce((nextState: any, key: string) => {\n\t\tnextState[key] = reducers[key](state[key], action)\n\t\treturn nextState\n\t}, {})\n\n\treturn nextState\n}\n\nexport default root","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()","import history from '../../route/history'\nimport { AnyAction } from 'redux'\nimport { AuthAction } from '../action/auth'\nimport { ProfileAction } from '../action/profile'\nimport {\n\tcall,\n\tput,\n\ttakeEvery,\n} from 'redux-saga/effects'\n\nfunction* manipulateToken(action: AnyAction) {\n\ttry {\n\t\tconst { type, token, id, username, role } = action\n\t\tswitch (type) {\n\t\t\tcase 'AUTH': {\n\t\t\t\tyield call((token: string) => window.localStorage.setItem('TOKEN', token), token)\n\t\t\t\tyield call((id: string) => window.localStorage.setItem('ID', id), id)\n\t\t\t\tyield call((username: string) => window.localStorage.setItem('USERNAME', username), username)\n\t\t\t\tyield call((role: string) => window.localStorage.setItem('ROLE', role), role)\n\t\t\t\tyield put<AuthAction>({ type: 'AUTH_WRITTEN', token, id, username, role })\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase 'LOGOUT': {\n\t\t\t\tyield put<AuthAction>({ type: 'LOGGED_OUT' })\n\t\t\t\tyield call(() => {\n\t\t\t\t\twindow.localStorage.removeItem('TOKEN')\n\t\t\t\t\twindow.localStorage.removeItem('ID')\n\t\t\t\t\twindow.localStorage.removeItem('USERNAME')\n\t\t\t\t\twindow.localStorage.removeItem('ROLE')\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase 'LOGGED_OUT': {\n\t\t\t\tyield call(() => {\n\t\t\t\t\thistory.push('/')\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase 'CHANGE_USERNAME': {\n\t\t\t\tyield call((username: string) => window.localStorage.setItem('USERNAME', username), username)\n\t\t\t\tyield put<ProfileAction>({ type: 'CHANGE_USERNAME_SUCCEED', username })\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tyield put<AuthAction>({ type: 'AUTH_WRITTEN', token: '', id: '', username: '', role: 'user' })\n\t}\n}\n\nfunction* sagaToken() {\n\tyield takeEvery(['AUTH', 'LOGOUT', 'LOGGED_OUT', 'CHANGE_USERNAME'], manipulateToken)\n}\n\nexport default sagaToken","import React from 'react'\n\nconst FooterBar = () => {\n\treturn (\n\t\t<div className=\"siteFooter pr-3 pb-1 pt-1\">\n\t\t\t<address>\n\t\t\t\tĐồ án tốt nghiệp: \n\t\t\t\t<br />\n\t\t\t\tSinh viên thực hiện: Nguyễn Thanh Bằng\n\t\t\t</address>\n\t\t</div>\n\t)\n}\n\nexport default FooterBar","import _ from 'lodash'\nimport axios, { CancelTokenSource } from 'axios'\n\nconst API = 'http://10.1.1.90:3001/'\n// const API = 'http://travel-recommendation-sihc.herokuapp.com/'\n\ninterface GETHeader {\n\tsource: string,\n\theader?: {\n\t\tauth_token: string | null,\n\t\t[key: string]: any\n\t},\n\tparams?: object,\n\ttimeout?: number\n}\ninterface POSTHeader extends GETHeader {\n\tdata: object\n}\ninterface PATCHHeader extends GETHeader {\n\tdata: object\n}\nexport type FetchStatusProps = {\n\tready?: boolean,\n\tcancelToken: CancelTokenSource | undefined\n}\nconst defaultFetcherProps = {\n\theader: {},\n\tparams: {},\n\ttimeout: 10000,\n}\nconst Fetcher = {\n\tGET: ($props: GETHeader) => {\n\t\tconst props = _.merge(_.cloneDeep(defaultFetcherProps), $props)\n\t\tprops.header['auth_token'] = window.localStorage.getItem('TOKEN')\n\t\tconst { source, header, params, timeout } = props\n\t\tconst CancelToken = axios.CancelToken\n\t\tconst tokenSource = CancelToken.source()\n\n\t\tvar request = {\n\t\t\tmethod: 'GET',\n\t\t\turl: API + source,\n\t\t\theaders: header,\n\t\t\tparams: params,\n\t\t\ttimeout: timeout,\n\t\t\tjson: true,\n\t\t\tcancelToken: tokenSource.token\n\t\t}\n\t\treturn { request: axios(request), tokenSource: tokenSource }\n\t},\n\tPOST: ($props: POSTHeader) => {\n\t\tconst props = _.merge(_.cloneDeep(defaultFetcherProps), $props)\n\t\tprops.header['auth_token'] = window.localStorage.getItem('TOKEN')\n\t\tconst { source, data, header, params, timeout } = props\n\t\tconst CancelToken = axios.CancelToken\n\t\tconst tokenSource = CancelToken.source()\n\n\t\tvar request = {\n\t\t\tmethod: 'POST',\n\t\t\turl: API + source,\n\t\t\tdata: data,\n\t\t\theaders: header,\n\t\t\tparams: params,\n\t\t\ttimeout: timeout,\n\t\t\tjson: true,\n\t\t\tcancelToken: tokenSource.token\n\t\t}\n\t\treturn { request: axios(request), tokenSource: tokenSource }\n\t},\n\tPATCH: ($props: PATCHHeader) => {\n\t\tconst props = _.merge(_.cloneDeep(defaultFetcherProps), $props)\n\t\tprops.header['auth_token'] = window.localStorage.getItem('TOKEN')\n\t\tconst { source, data, header, params, timeout } = props\n\t\tconst CancelToken = axios.CancelToken\n\t\tconst tokenSource = CancelToken.source()\n\n\t\tvar request = {\n\t\t\tmethod: 'PATCH',\n\t\t\turl: API + source,\n\t\t\tdata: data,\n\t\t\theaders: header,\n\t\t\tparams: params,\n\t\t\ttimeout: timeout,\n\t\t\tjson: true,\n\t\t\tcancelToken: tokenSource.token\n\t\t}\n\t\treturn { request: axios(request), tokenSource: tokenSource }\n\t},\n\tmakeBody: (dataSet: object) => {\n\t\tlet body: any = {}\n\n\t\tif (dataSet)\n\t\t\tfor (let [dataKey, dataContent] of Object.entries(dataSet))\n\t\t\t\tbody[dataKey] = dataContent\n\t\treturn body\n\t},\n\tinterpretError: (error: any, counter: number) => {\n\t\tif (counter > 1)\n\t\t\treturn { type: 'cancel', status: 0, message: 'Current request was aborted, waiting for the remaining requests...' }\n\n\t\tif (axios.isCancel(error))\n\t\t\treturn { type: 'cancel', status: 1, message: 'Request was canceled' }\n\n\t\tif (error.code === 'ECONNABORTED')\n\t\t\treturn { type: 'error', status: 408, message: 'Request timed out' }\n\n\t\tif (error.response)\n\t\t\tswitch (error.response.status) {\n\t\t\t\tcase 401: return { type: 'responseError', status: error.response.status, message: 'Unauthorized' }\n\t\t\t\tcase 404: return { type: 'responseError', status: error.response.status, message: 'Not found on server' }\n\t\t\t\tcase 500: return { type: 'responseError', status: error.response.status, message: 'Server error' }\n\t\t\t\tcase 502: return { type: 'responseError', status: error.response.status, message: 'Bad Gateway' }\n\t\t\t\tdefault: return { type: 'responseError', status: error.response.status, message: 'Unknown Error' }\n\t\t\t}\n\n\t\tif (error.request)\n\t\t\treturn { type: 'requestError', status: 2, message: 'Client could not get any response' }\n\n\t\treturn { type: 'genericError', status: 3, message: 'Generic error' }\n\t}\n}\n\nexport {\n\tAPI,\n\tFetcher\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { Fetcher } from '../../com/fetcher'\nimport { logout } from '../../redux/action'\nimport { Redirect } from 'react-router'\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\n\treturn {\n\t\tlogout: () => dispatch(logout()),\n\t}\n}\n\nconst mapStateToProps = (state: any) => {\n\treturn { token: state.authorization.token }\n}\n\nconst Logout = (props: any) => {\n\tconst { token } = props\n\tif (token !== '') {\n\t\tconst { request } = Fetcher.POST({\n\t\t\tsource: 'logout',\n\t\t\theader: {\n\t\t\t\tauth_token: token\n\t\t\t},\n\t\t\tdata: {}\n\t\t})\n\t\trequest.then(() => {\n\t\t\tconst { logout } = props\n\t\t\tlogout()\n\t\t})\n\t}\n\treturn null\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Logout)","export type AuthAction =\n\t| { type: 'ADD_TOKEN'; token: string }\n\t| { type: 'ADD_USER_ID'; id: string }\n\t| { type: 'AUTH'; token: string, id: string, username: string, role: string, }\n\t| { type: 'AUTH_WRITTEN'; token: string, id: string, username: string, role: string, }\n\t| { type: 'LOGOUT' }\n\t| { type: 'LOGGED_OUT' }\n\nexport const addToken = (token: string): AuthAction => ({\n\ttoken,\n\ttype: 'ADD_TOKEN',\n})\n\nexport const addUserId = (id: string): AuthAction => ({\n\tid,\n\ttype: 'ADD_USER_ID',\n})\n\nexport const logout = (): AuthAction => ({\n\ttype: 'LOGOUT',\n})\n\nexport const auth = (token: string, id: string, username: string, role: string): AuthAction => ({\n\ttoken,\n\tid,\n\tusername,\n\trole,\n\ttype: 'AUTH',\n})","import _ from 'lodash'\n\nexport const override = (value: any, overrideValue: any) => {\n\treturn overrideValue === null || overrideValue === undefined\n\t\t? value\n\t\t: overrideValue\n}\n\nexport const validateChain = (value: any, keyChain: string[], defaultValue: any) => {\n\tconst len = keyChain.length\n\tlet nextValue = value\n\tif (value === null || value === undefined)\n\t\treturn defaultValue\n\tfor (let cnt = 0; cnt < len; cnt++) {\n\t\tnextValue = nextValue[keyChain[cnt]]\n\t\tif (nextValue === null || nextValue === undefined)\n\t\t\treturn defaultValue\n\t}\n\treturn nextValue\n}\n\nexport const objectToArray = (obj: { [key: string]: any }) => {\n\treturn Object.keys(obj).map((key) => {\n\t\tconst pair: { [key: string]: any } = {}\n\t\tpair[`${key}`] = obj[key]\n\t\treturn pair\n\t})\n}\n\nexport const preservingMerge = (srcObj: any, $obj: any) => {\n\tconst keys = Object.keys(srcObj)\n\tconst obj: any = { ...srcObj }\n\tkeys.map((key: string) => {\n\t\tif ($obj[key] !== undefined) obj[key] = $obj[key]\n\t})\n\treturn obj\n}\n\nexport const moneyFormatWholeVND = new Intl.NumberFormat('vi', {\n\tstyle: 'currency',\n\tcurrency: 'VND',\n\tminimumFractionDigits: 0,\n\tmaximumFractionDigits: 0\n}).format;","import React, {\n\tDetailedHTMLProps,\n\tHTMLAttributes,\n\tLabelHTMLAttributes,\n\tReactChild\n\t} from 'react'\nimport { override } from '../../../com'\n\nexport type InputWithLabelProps = {\n\tformId: string,\n\tlabel: ReactChild,\n\tname?: string,\n\tcustomInput?: ReactChild,\n\tdisabled?: boolean | undefined,\n\tid?: string,\n\tvalue?: string,\n\tinputProps?: DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>,\n\tlabelProps?: DetailedHTMLProps<LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>,\n\tdisabledLabelProps?: DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>,\n}\nexport const InputWithLabel = (props: InputWithLabelProps) => {\n\tconst { label, id, name, formId, value, disabled, inputProps, labelProps, customInput, disabledLabelProps } = props\n\tconst ownId = `${formId}_${id}`\n\tconst _name = override('', name)\n\n\treturn (\n\t\t<React.Fragment key={`${ownId}`} >\n\t\t\t<label htmlFor={ownId} form={formId} {...labelProps}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t\t{disabled\n\t\t\t\t? <div {...disabledLabelProps}>{value}</div>\n\t\t\t\t: customInput !== undefined\n\t\t\t\t\t? customInput\n\t\t\t\t\t: <input\n\t\t\t\t\t\tname={_name}\n\t\t\t\t\t\tid={ownId}\n\t\t\t\t\t\tform={formId}\n\t\t\t\t\t\tdefaultValue={value}\n\t\t\t\t\t\t{...inputProps} />\n\t\t\t}\n\t\t</React.Fragment>\n\t)\n}","import { Checkbox } from './Checkbox'\nimport { InputWithLabel } from './InputWithLabel'\nimport { Rate } from './Rate'\n\nexport {\n\tInputWithLabel,\n\tRate,\n\tCheckbox,\n}\n\nexport default {\n\tRate,\n\tCheckbox,\n}","import _ from 'lodash'\nimport React, { DetailedHTMLProps, LabelHTMLAttributes } from 'react'\nimport './rate.scss'\n\nexport type RateProps = {\n\tname: string,\n\tdisabled?: boolean,\n\tlabelList: string[],\n\tinputProps?: DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>,\n\tlabelProps?: DetailedHTMLProps<LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>,\n\tstyleClass?: string,\n\trating?: number,\n\tvalueList?: string[],\n}\nexport const Rate = ($props: RateProps) => {\n\tconst props = _.merge({\n\t\tlabelList: [],\n\t\tstyleClass: 'rate--star',\n\t\tdisabled: false,\n\t}, $props)\n\tconst { name, disabled, rating, valueList, labelList, styleClass, inputProps, labelProps } = props\n\tconst range = labelList.length\n\n\treturn (\n\t\t<div className={`rate${disabled === true ? '--disabled' : ''} ${styleClass}`}>\n\t\t\t{labelList.map((label, $position) => {\n\t\t\t\tconst position = range - $position\n\t\t\t\tif (label === '')\n\t\t\t\t\treturn null\n\t\t\t\treturn <React.Fragment key={$position}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tid={`${name}${position}`}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tvalue={position}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tdefaultChecked={rating !== undefined\n\t\t\t\t\t\t\t&& disabled\n\t\t\t\t\t\t\t&& rating === position ? true : undefined}\n\t\t\t\t\t\tdata-value={(valueList && rating) && valueList[rating]}\n\t\t\t\t\t\ttitle={rating ? labelList[rating] : label}\n\t\t\t\t\t\t{...inputProps} />\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor={`${name}${position}`}\n\t\t\t\t\t\tdata-value={position}\n\t\t\t\t\t\t{...labelProps}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t</React.Fragment>\n\t\t\t})}\n\t\t</div>\n\t)\n}","import React, { DetailedHTMLProps, ReactChild } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport './checkbox.scss'\n\ntype CheckboxProps = {\n\tlabel?: ReactChild,\n\tinputProps: DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n}\nexport const Checkbox = (props: CheckboxProps) => {\n\tconst { label, inputProps } = props\n\tconst { defaultChecked, checked } = inputProps\n\n\treturn (\n\t\t<label className=\"checkbox\">\n\t\t\t{label}\n\t\t\t<input type=\"checkbox\" {...inputProps} />\n\t\t\t<span className={'checkbox--mark'}>\n\t\t\t\t{checked === true || defaultChecked === true\n\t\t\t\t\t? <FontAwesomeIcon icon=\"check\" />\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</span>\n\t\t</label>\n\t)\n}","import React, { ReactChild } from 'react'\n\ntype GenericCardProps = {\n    children?: ReactChild | ReactChild[],\n    type: 'error' | 'success' | 'danger'\n}\nexport type CardProps = {\n    children: ReactChild | ReactChild[],\n}\nconst $Card = (props: GenericCardProps) => {\n    const { children, type } = props\n    let _type\n    switch (type) {\n        case 'error': _type = 'danger'; break\n        default: _type = type\n    }\n\n    return <div className={`text-${_type}`}>\n        {children}\n    </div>\n}\n\nexport const Card = {\n    Error: (props: CardProps) => <$Card type=\"danger\">{props.children}</$Card>,\n    Danger: (props: CardProps) => <$Card type=\"danger\">{props.children}</$Card>,\n    Success: (props: CardProps) => <$Card type=\"success\">{props.children}</$Card>\n}","import React from 'react'\nimport './Map.scss'\n\nexport type GoogleMapProps = {\n\tmeta: string,\n\twidth?: string,\n\theight?: string,\n}\n\nexport const GoogleMap = ($props: GoogleMapProps) => {\n\tconst props = Object.assign({}, {\n\t\twidth: 700,\n\t\theight: 300,\n\t}, $props)\n\tconst { meta, width, height } = props\n\n\treturn <div className=\"map__container\" style={{ width: width, height: height }}>\n\t\t<div className=\"map__underlay\">Google Map</div>\n\t\t<iframe style={{ width: '100%', height: '100%' }}\n\t\t\tclassName=\"map__canvas\"\n\t\t\tsrc={`https://maps.google.com/maps?q=${meta}&ie=UTF8&iwloc=&output=embed`}\n\t\t\tscrolling=\"no\" />\n\t</div>\n}","import mergeDeepRight from 'ramda/es/mergeDeepRight'\nimport React from 'react'\nimport './loader.scss'\n\nexport type LoaderProps = {\n\tsize?: number,\n}\nexport const Loader = ($props: LoaderProps) => {\n\tconst defaultProps = {\n\t\tsize: 50\n\t}\n\tconst props = mergeDeepRight(defaultProps, $props)\n\n\treturn (\n\t\t<div style={{ width: `${props.size}px`, height: `${props.size}px` }} className=\"loader\" />\n\t)\n}","import React, { CSSProperties } from 'react'\nimport './split.scss'\n\ntype SplitType = {\n\tdir: 'hor' | 'ver',\n\tstyle?: CSSProperties,\n}\nexport const Split = (props: SplitType) => {\n\tconst { style, dir } = props\n\treturn <div style={style} className={`split--${dir}`} />\n}","import React from 'react'\nimport './Tag.scss'\n\nexport type TagProps = {\n\tcolor: string,\n\tmode?: 'OUTLINE' | 'SOLID',\n\tdisabled?: boolean,\n} & React.HTMLAttributes<HTMLDivElement>\n\nexport const Tag = (props: React.PropsWithChildren<TagProps>) => {\n\tconst { children, color: baseColor, mode, className, disabled, ...rest } = props\n\tlet color: string, bgColor\n\tswitch (mode) {\n\t\tcase 'OUTLINE':\n\t\t\tcolor = `${baseColor}`\n\t\t\tbgColor = 'white'\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcolor = 'white'\n\t\t\tbgColor = `${baseColor}`\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className={`tag ${className !== undefined ? className : ''}`}\n\t\t\tstyle={{\n\t\t\t\tcolor,\n\t\t\t\tbackgroundColor: bgColor,\n\t\t\t\tborderColor: baseColor,\n\t\t\t}}\n\t\t\tonMouseEnter={(event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n\t\t\t\tif(mode === 'OUTLINE' && disabled !== true) event.currentTarget.style.boxShadow = `0 0 1px 1px ${color} inset`\n\t\t\t}}\n\t\t\tonMouseLeave={(event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n\t\t\t\tif(mode === 'OUTLINE' && disabled !== true) event.currentTarget.style.boxShadow = `none`\n\t\t\t}}\n\t\t\t{...rest}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t)\n}","export const PriceLabel = [\n\t'',\n\t'Tiết kiệm',\n\t'Bình dân',\n\t'Trung bình',\n\t'Rộng rãi',\n\t'Xa hoa'\n]\n\nexport const PriceColorScheme = [\n\t'',\n\t'DodgerBlue',\n\t'ForestGreen',\n\t'gold',\n\t'orange',\n\t'red'\n]","export const ReviewLabel = [\n\t'',\n\t'Cần cải thiện',\n\t'Tạm được',\n\t'Bình thường',\n\t'Rất tốt',\n\t'Tuyệt vời',\n]","export const TagLabel = [\n\t'Tâm linh',\n\t'Di tích',\n\t'Tham quan',\n\t'Thắng cảnh',\n\t'Ẩm thực',\n\t'Giải trí',\n\t'Nghỉ dưỡng',\n\t'Mạo hiểm',\n\t'Hồ sông suối',\n\t'Đô thị',\n\t'Nông thôn',\n\t'Đồi núi',\n\t'Biển',\n\t'Rừng',\n]\n\nexport const TagColorScheme = [\n\t'ORANGERED',\n\t'#EEB700',\n\t'PLUM',\n\t'SLATEGRAY',\n\t'DARKKHAKI',\n\t'DARKORANGE',\n\t'HOTPINK',\n\t'RED',\n\t'ROYALBLUE',\n\t'DARKVIOLET',\n\t'LIGHTSEAGREEN',\n\t'SANDYBROWN',\n\t'DARKTURQUOISE',\n\t'LIMEGREEN',\n]","import InputRange, { Range } from 'react-input-range'\nimport React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { InputWithLabel } from '../../atom/form'\nimport { PriceColorScheme, PriceLabel } from '../../lang'\nimport { Tag } from '../../atom'\nimport './Filter.scss'\nimport 'react-input-range/lib/css/index.css'\n\ntype PriceFilterProps = {\n\tonChange: (value: number | Range) => void,\n\tformId: string,\n\tvalue: {\n\t\tmin: number,\n\t\tmax: number,\n\t}\n}\n\nconst PriceFilter = (props: PriceFilterProps) => {\n\tconst { value, onChange, formId } = props\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<InputWithLabel\n\t\t\t\tformId={formId}\n\t\t\t\tid=\"price\"\n\t\t\t\tlabel={<div className=\"priceFilter\">\n\t\t\t\t\t<Tag color={PriceColorScheme[value.min]}>{PriceLabel[value.min]}</Tag>\n\t\t\t\t\t<FontAwesomeIcon icon=\"arrow-right\" className=\"pl-1 pr-1\" size=\"lg\" />\n\t\t\t\t\t<Tag color={PriceColorScheme[value.max]}>{PriceLabel[value.max]}</Tag>\n\t\t\t\t</div>}\n\t\t\t\tcustomInput={<InputRange\n\t\t\t\t\tmaxValue={5}\n\t\t\t\t\tminValue={1}\n\t\t\t\t\tformatLabel={() => ''}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={onChange} />}\n\t\t\t/>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default PriceFilter","import Input from '../../atom/form/index'\nimport React, { ChangeEvent } from 'react'\nimport { ReviewLabel } from '../../lang'\nimport 'react-input-range/lib/css/index.css'\n\ntype ReviewFilterProps = {\n\tonChange: (value: ChangeEvent<HTMLInputElement>) => void,\n\tvalue: number,\n\tformId: string,\n}\nconst ReviewFilter = (props: ReviewFilterProps) => {\n\tconst { value, onChange, formId } = props\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Input.Rate\n\t\t\t\tname={formId}\n\t\t\t\tlabelList={ReviewLabel}\n\t\t\t\tinputProps={{\n\t\t\t\t\tonChange\n\t\t\t\t}} />\n\t\t</React.Fragment>\n\t)\n}\n\nexport default ReviewFilter","import Input from '../../atom/form'\nimport React, { ChangeEvent } from 'react'\nimport { Tag } from '../../atom'\nimport { TagColorScheme, TagLabel } from '../../lang'\nimport './Filter.scss'\n\ntype TagFilterProps = {\n\tonChange: (value: ChangeEvent<HTMLInputElement>) => void,\n\tcheckedList: boolean[]\n}\nconst TagFilter = (props: TagFilterProps) => {\n\tconst { checkedList, onChange } = props\n\n\treturn (\n\t\t<div className=\"tagFilter--column\">\n\t\t\t{TagLabel.map((element, index) => {\n\t\t\t\treturn <Input.Checkbox\n\t\t\t\t\tkey={element}\n\t\t\t\t\tlabel={<Tag color={TagColorScheme[index]} className=\"ctn--fluid\" mode=\"OUTLINE\">{element}</Tag>}\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\tname: `${index}`,\n\t\t\t\t\t\tvalue: element,\n\t\t\t\t\t\tonChange,\n\t\t\t\t\t\tdefaultChecked: checkedList[index] === false ? false : true,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nexport default TagFilter","import React from 'react'\nimport { PriceFilter, ReviewFilter, TagFilter } from '../filter'\nimport { Range } from 'react-input-range'\nimport { ReviewLabel } from '../../lang'\n\nexport type BareSearchProps = {\n\tonSubmit: (event: React.FormEvent<HTMLFormElement>) => void,\n\tcheckedList: boolean[],\n\tonTagChange: (name: string | null, checked: boolean) => void,\n\tonReviewChange: (value: string) => void,\n\tonPriceChange: (value: number | Range) => void,\n\tprice: Range,\n\treview: number,\n\tdisplay: string,\n\tformId: string,\n}\n\nexport const BareSearch = (props: BareSearchProps) => {\n\tconst { onSubmit, checkedList, onTagChange, onPriceChange, price, onReviewChange, review, display, formId } = props\n\n\treturn (\n\t\t<form\n\t\t\tstyle={{width: '100%'}}\n\t\t\tclassName={`drop--shadow p-2 ${display ? `search__container--${display}` : 'search__container'}`}\n\t\t\tonSubmit={onSubmit}>\n\t\t\t<div style={{ gridArea: 'tag' }} className=\"ctn--stack\">\n\t\t\t\t<label className=\"search__label\">Loại hình</label>\n\t\t\t\t<TagFilter checkedList={checkedList}\n\t\t\t\tonChange={(event) => onTagChange(\n\t\t\t\t\tevent.currentTarget.getAttribute('name'),\n\t\t\t\t\tevent.currentTarget.checked,\n\t\t\t\t)} />\n\t\t\t</div>\n\t\t\t<div style={{ gridArea: 'slider' }} className={`search__range ctn--stack ${display === 'COLUMN' ? 'pr-2 pl-2' : 'pr-2 pl-3'}`}>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"search__label\">Giá cả</label>\n\t\t\t\t\t<PriceFilter\n\t\t\t\t\t\tformId={formId}\n\t\t\t\t\t\tonChange={onPriceChange}\n\t\t\t\t\t\tvalue={price} />\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"search__label\">Đánh giá</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ReviewFilter\n\t\t\t\t\t\t\tformId={formId}\n\t\t\t\t\t\t\tonChange={(event) => onReviewChange(event.currentTarget.value)}\n\t\t\t\t\t\t\tvalue={review} />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{`${review < 5 && review !== 0 ? 'Trên mức ' : ''}${review !== 0 ? ReviewLabel[review] : ''}`}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div></div>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"submit\" className=\"btn btn-success ctn--fluid\" value=\"Tìm kiếm\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style={{ gridArea: 'space' }}></div>\n\t\t</form>\n\t)\n}","import React, { ChangeEvent } from 'react'\nimport { BareSearch } from './BareSearch'\nimport { debounce } from 'lodash'\nimport { Dropdown } from '..'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Range } from 'react-input-range'\nimport { retrieveInput } from '../../../com/event'\nimport { TagLabel } from '../../lang'\nimport './search.scss'\n\ntype SearchState = {\n\tprice: Range,\n\treview: number,\n\tcheckedList: boolean[],\n}\n\nexport const makeQuery = (review: number, price: Range, types: string[]) => {\n\tlet queryURL = `/search?`\n\tlet queries = []\n\tif (!isNaN(review))\n\t\tqueries.push(`rating=${review}`)\n\tif (!isNaN(price.min) && !isNaN(price.max))\n\t\tqueries.push(`lower_price=${price.min === 1 ? 0 : price.min}&upper_price=${price.max}`)\n\tif (types.length !== 0)\n\t\tqueries.push(`type=${types.join(',')}`)\n\treturn `${queryURL}${queries.join('&')}`\n}\n\nexport class Search extends React.Component<any, SearchState> {\n\tconstructor(props: any) {\n\t\tsuper(props)\n\t\tconst initialCheckedList = []\n\t\tfor (let cnt = 0; cnt < TagLabel.length; cnt++)\n\t\t\tinitialCheckedList.push(true)\n\t\tthis.state = {\n\t\t\tprice: {\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 5\n\t\t\t},\n\t\t\treview: 0,\n\t\t\tcheckedList: initialCheckedList,\n\t\t}\n\t}\n\tonSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault()\n\t\tconst { price, review, checkedList } = this.state\n\t\tlet types: string[] = []\n\t\tcheckedList.map((type, index) => {\n\t\t\tif (type !== false)\n\t\t\t\ttypes.push(`${index + 1}`)\n\t\t})\n\n\t\twindow.location.href = makeQuery(review, price, types)\n\t}\n\tonPriceChange = (value: number | Range): void => {\n\t\tthis.setState({\n\t\t\tprice: (value as Range)\n\t\t})\n\t}\n\tonReviewChange = (value: string): void => {\n\t\tthis.setState({\n\t\t\treview: Number.parseInt(value, 10)\n\t\t})\n\t}\n\tonTagChange = (name: string | null, checked: boolean): void => {\n\t\tconst _checkedList = this.state.checkedList\n\t\tlet pos = name\n\t\tif (pos !== null)\n\t\t\t_checkedList[parseInt(pos)] = checked\n\n\t\tthis.setState({\n\t\t\tcheckedList: _checkedList\n\t\t})\n\t}\n\tevent = {\n\t\tonPriceChange: debounce(this.onPriceChange, 25),\n\t\tonReviewChange: debounce(this.onReviewChange, 25),\n\t\tonTagChange: debounce(this.onTagChange, 25),\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.event.onPriceChange.cancel()\n\t\tthis.event.onReviewChange.cancel()\n\t\tthis.event.onTagChange.cancel()\n\t}\n\trender() {\n\t\tconst { price, review, checkedList } = this.state\n\t\tconst { display, formId } = this.props\n\t\tconst SearchModule = <BareSearch\n\t\t\tformId={formId}\n\t\t\tonPriceChange={this.event.onPriceChange}\n\t\t\tonReviewChange={this.event.onReviewChange}\n\t\t\tonSubmit={this.onSubmit}\n\t\t\tonTagChange={this.event.onTagChange}\n\t\t\tcheckedList={checkedList}\n\t\t\tprice={price}\n\t\t\treview={review}\n\t\t\tdisplay={display}\n\t\t/>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Dropdown\n\t\t\t\t\tmeta={{\n\t\t\t\t\t\tedge: display === 'COLUMN' ? 'BOTTOM' : 'LEFT',\n\t\t\t\t\t\talign: display === 'COLUMN' ? 'CENTER' : 'TOP',\n\t\t\t\t\t\tpersist: { clickInside: true, }\n\t\t\t\t\t}}\n\t\t\t\t\tcontainerClassname={display === 'COLUMN' ? 'ctn--fluid' : ''}\n\t\t\t\t\tdropClassname={display === 'COLUMN' ? 'ctn--fluid' : ''}\n\t\t\t\t\toverrideStatus={display === 'COLUMN' ? true : undefined}\n\t\t\t\t\tchild={display === 'COLUMN'\n\t\t\t\t\t\t? <h2>Bộ lọc</h2>\n\t\t\t\t\t\t: <div>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon=\"search\" size=\"3x\" className=\"m-2\" />\n\t\t\t\t\t\t</div>}\n\t\t\t\t\tdrop={SearchModule} />\n\t\t\t</div>\n\t\t)\n\t}\n}","import _ from 'lodash'\nimport Input from '../atom/form'\nimport React from 'react'\nimport { Fetcher, FetchStatusProps } from '../../com/fetcher'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { GoogleMap, Tag } from '../atom'\nimport { makeQuery } from './form/Search'\nimport { NavLink } from 'react-router-dom'\nimport {\n\tPriceColorScheme,\n\tPriceLabel,\n\tReviewLabel,\n\tTagColorScheme,\n\tTagLabel\n\t} from '../lang'\nimport './tripDetail.scss'\n\ntype TripProps = {\n\tid: string,\n\tshowMap?: boolean,\n}\ntype TripInfo = {\n\taddress: string,\n\tcreated_at: string,\n\tdescription: string,\n\tid: number,\n\tlink: string | null,\n\tlocation: string,\n\tlower_price: number,\n\trating: number,\n\ttitle: string,\n\tupdated_at: string,\n\tupper_price: number,\n}\ntype TripData = {\n\tcomment_amounts: number,\n\tdestinations: string[],\n\tstatus: number,\n\ttravel: TripInfo,\n\ttype: string[],\n}\nclass TripDetail extends React.Component<TripProps> {\n\ttripData: TripData = {\n\t\tcomment_amounts: 0,\n\t\tdestinations: [],\n\t\tstatus: 0,\n\t\ttravel: {\n\t\t\taddress: '',\n\t\t\tcreated_at: '',\n\t\t\tdescription: '',\n\t\t\tid: 0,\n\t\t\tlink: '',\n\t\t\tlocation: '',\n\t\t\tlower_price: 0,\n\t\t\trating: 0,\n\t\t\ttitle: '',\n\t\t\tupdated_at: '',\n\t\t\tupper_price: 0,\n\t\t},\n\t\ttype: [],\n\t}\n\tfetchStatus: FetchStatusProps = {\n\t\tcancelToken: undefined,\n\t}\n\tfetch = () => {\n\t\tconst { id } = this.props\n\t\tconst { request, tokenSource } = Fetcher.GET({\n\t\t\tsource: `travel?id=${id}`,\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tconst { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\t\t\tthis.tripData = _.cloneDeep(response.data)\n\t\t\tthis.tripData.travel.rating = Math.round(response.data.travel.rating)\n\t\t\tthis.forceUpdate()\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tthis.fetch()\n\t}\n\tcomponentWillUnmount() {\n\t\tlet cancelToken\n\t\tcancelToken = this.fetchStatus.cancelToken\n\t\tif (cancelToken)\n\t\t\tcancelToken.cancel()\n\t}\n\trender() {\n\t\tconst { travel, type, comment_amounts } = this.tripData\n\t\tconst { address, description, location, rating, title, lower_price, upper_price } = travel\n\t\tconst { id, showMap } = this.props\n\n\t\treturn (\n\t\t\t<div className=\"tripDetail\">\n\t\t\t\t<div className=\"tripDetail__imgContainer\" style={{\n\t\t\t\t\t\tbackgroundImage: `url(${require('../../comp/atom/Loader/loading.gif')})`\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className=\"tripDetail__img\" style={{\n\t\t\t\t\t\tbackgroundImage: `url(${description})`\n\t\t\t\t\t}} />\n\t\t\t\t</div>\n\t\t\t\t<div className={`tripDetail__info ${showMap ? 'tripDetail__combine' : ''} pt-2 pl-2 pr-2`}>\n\t\t\t\t\t<h2 className=\"tripDetail__header\">\n\t\t\t\t\t\t<NavLink to={`/trip/${id}`}>{title}</NavLink>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div className=\"tripDetail__summary ctn--stack\">\n\t\t\t\t\t\t<div className=\"tripDetail__review\">\n\t\t\t\t\t\t\t<label>Đánh giá chung</label>\n\t\t\t\t\t\t\t<Input.Rate\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\trating={rating}\n\t\t\t\t\t\t\t\tlabelList={ReviewLabel}\n\t\t\t\t\t\t\t\tname={`tripReview${id}`}\n\t\t\t\t\t\t\t\tlabelProps={{\n\t\t\t\t\t\t\t\t\ttitle: ReviewLabel[rating]\n\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t<label>Số đánh giá</label>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{comment_amounts}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{lower_price !== 0 && upper_price !== 0\n\t\t\t\t\t\t\t\t? <React.Fragment>\n\t\t\t\t\t\t\t\t\t<label>Tầm giá</label>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Tag color={PriceColorScheme[lower_price]}>{PriceLabel[lower_price]}</Tag>\n\t\t\t\t\t\t\t\t\t\t{lower_price === 0 || upper_price === 0 || lower_price === upper_price\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: <FontAwesomeIcon icon=\"arrow-right\" className=\"pl-1 pr-1\" size=\"lg\" />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{lower_price === upper_price\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: <Tag color={PriceColorScheme[upper_price]}>{PriceLabel[upper_price]}</Tag>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<label>Địa chỉ</label>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{address}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tripDetail__des\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{description ? description : ''}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tripDetail__tag pb-2\">\n\t\t\t\t\t\t\t{type && type.length > 0\n\t\t\t\t\t\t\t\t? type.map((type) => {\n\t\t\t\t\t\t\t\t\tconst index = TagLabel.indexOf(type)\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tag\n\t\t\t\t\t\t\t\t\t\t\tkey={type}\n\t\t\t\t\t\t\t\t\t\t\tcolor={TagColorScheme[index]}\n\t\t\t\t\t\t\t\t\t\t\tmode=\"OUTLINE\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\twindow.location.href = makeQuery(0, { min: 0, max: 5 }, [`${index + 1}`])\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"tripDetail__clickable\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{TagLabel[index]}\n\t\t\t\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{showMap\n\t\t\t\t\t? <div className=\"tripDetail__map\">\n\t\t\t\t\t\t{location ? <GoogleMap meta={location} width=\"100%\" /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t: null}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default TripDetail","import React, { ChangeEvent, FormEvent } from 'react'\nimport { AuthDispatcher } from '../../hoc/setCurrentUser'\nimport { Fetcher } from '../../../com/fetcher'\nimport { InputWithLabel } from '../../atom/form'\nimport { RouteComponentProps, withRouter } from 'react-router'\n\ninterface LoginFormProps extends RouteComponentProps {\n\tid: string,\n\tmethod: {\n\t\tauth: AuthDispatcher,\n\t},\n}\nclass $LoginForm extends React.Component<LoginFormProps> {\n\tformInputs = [\n\t\t{\n\t\t\tlabel: 'Email',\n\t\t\ttype: 'email',\n\t\t\tname: 'email',\n\t\t\trequired: true,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Mật khẩu',\n\t\t\ttype: 'password',\n\t\t\tname: 'password',\n\t\t\trequired: true,\n\t\t},\n\t]\n\tfetcherStatus = {\n\t\tstatus: 0,\n\t}\n\tformData: any = {}\n\tonChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst name = e.currentTarget.getAttribute('name') as string\n\t\tconst value = e.currentTarget.value\n\t\tthis.formData[name] = value\n\t\tthis.forceUpdate()\n\t}\n\tsubmit = (e: FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault()\n\t\tconst { request } = Fetcher.POST({\n\t\t\tsource: 'login',\n\t\t\tdata: Fetcher.makeBody(this.formData)\n\t\t})\n\t\trequest.then((response: any) => {\n\t\t\tconst { auth_token, id, status, username, role } = response.data\n\t\t\tconst { auth } = this.props.method\n\t\t\tthis.fetcherStatus.status = status\n\t\t\tif (status === 200) {\n\t\t\t\tauth(auth_token, id as string, username, role)\n\t\t\t\tlocation.reload()\n\t\t\t} else {\n\t\t\t\tthis.forceUpdate()\n\t\t\t}\n\t\t})\n\t}\n\trender() {\n\t\tconst { id } = this.props\n\t\treturn (\n\t\t\t<form className=\"ctn--stack p-2 drop--shadow\" style={{ width: '250px' }} id={id} onSubmit={this.submit} >\n\t\t\t\t{this.formInputs.map((element, index) => {\n\t\t\t\t\treturn <InputWithLabel\n\t\t\t\t\t\tformId={id}\n\t\t\t\t\t\tid={`${index}`}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\trequired: element.required\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlabel={element.label}\n\t\t\t\t\t\tname={element.name}\n\t\t\t\t\t\tkey={element.name}\n\t\t\t\t\t/>\n\t\t\t\t})}\n\t\t\t\t<div className=\"pt-1 text-danger\">{\n\t\t\t\t\tthis.fetcherStatus.status === 404\n\t\t\t\t\t\t? 'Sai mật khẩu hoặc email'\n\t\t\t\t\t\t: <br />\n\t\t\t\t}</div>\n\t\t\t\t<input type=\"submit\" className=\"btn btn-success\" value=\"Đăng nhập\" />\n\t\t\t</form>\n\t\t)\n\t}\n}\n\nexport const LoginForm = withRouter($LoginForm)","import React, { ChangeEvent, FormEvent } from 'react'\nimport { AuthDispatcher } from '../../hoc/setCurrentUser'\nimport { Fetcher } from '../../../com/fetcher'\nimport { InputWithLabel } from '../../atom/form'\nimport { RouteComponentProps, withRouter } from 'react-router'\n\ninterface RegisterFormProps extends RouteComponentProps {\n\tid: string,\n\tmethod: {\n\t\tauth: AuthDispatcher,\n\t},\n}\nexport class _RegisterForm extends React.Component<RegisterFormProps> {\n\tformInputs = [\n\t\t{\n\t\t\tlabel: 'Email',\n\t\t\ttype: 'email',\n\t\t\tname: 'email',\n\t\t\trequired: true,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Tên tài khoản',\n\t\t\ttype: 'text',\n\t\t\tname: 'username',\n\t\t\trequired: true,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Mật khẩu',\n\t\t\ttype: 'password',\n\t\t\tname: 'password',\n\t\t\trequired: true,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Xác nhận mật khẩu',\n\t\t\ttype: 'password',\n\t\t\tname: 'repassword',\n\t\t\trequired: true,\n\t\t},\n\t]\n\tfetcherStatus = {\n\t\tstatus: 0,\n\t}\n\tformData: any = {}\n\tonChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst name = e.currentTarget.getAttribute('name') as string\n\t\tconst value = e.currentTarget.value\n\t\tthis.formData[name] = value\n\t\tthis.forceUpdate()\n\t}\n\tsubmit = (e: FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault()\n\t\tconst { request } = Fetcher.POST({\n\t\t\tsource: 'user',\n\t\t\tdata: Fetcher.makeBody(this.formData)\n\t\t})\n\t\trequest.then((response: any) => {\n\t\t\tconst { auth_token, id, status, role, username } = response.data\n\t\t\tconst { auth } = this.props.method\n\t\t\tthis.fetcherStatus.status = status\n\t\t\tif (status === 201) {\n\t\t\t\tauth(auth_token, id as string, username, role)\n\t\t\t\tthis.props.history.push('/')\n\t\t\t} else {\n\t\t\t\tthis.forceUpdate()\n\t\t\t}\n\t\t})\n\t}\n\trender() {\n\t\tconst { id } = this.props\n\t\tconst { password, repassword } = this.formData\n\t\treturn (\n\t\t\t<form className=\"ctn--stack p-2 drop--shadow\" style={{ width: '250px' }} id={id} onSubmit={this.submit} >\n\t\t\t\t{this.formInputs.map((element, index) => {\n\t\t\t\t\treturn <InputWithLabel\n\t\t\t\t\t\tformId={id}\n\t\t\t\t\t\tid={`${index}`}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\trequired: element.required\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlabel={element.label}\n\t\t\t\t\t\tname={element.name}\n\t\t\t\t\t\tkey={element.name}\n\t\t\t\t\t/>\n\t\t\t\t})}\n\t\t\t\t<div className=\"pt-1 text-danger\">\n\t\t\t\t\t{password !== repassword\n\t\t\t\t\t\t? 'Mật khẩu không khớp'\n\t\t\t\t\t\t: this.fetcherStatus.status === 409\n\t\t\t\t\t\t\t? 'Tài khoản đã tồn tại'\n\t\t\t\t\t\t\t: <br />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"submit\" className=\"btn btn-success\" value=\"Gửi yêu cầu\" />\n\t\t\t</form>\n\t\t)\n\t}\n}\n\nexport const RegisterForm = withRouter(_RegisterForm)","import { connect } from 'react-redux'\n\nexport type WithCurrentUserProps = {\n\tcurrentUserId: string,\n\tusername: string,\n\trole: string,\n}\nconst mapStateToProps = (state: any): WithCurrentUserProps => {\n\tconst { username, role, currentUserId } = state.authorization\n\treturn {\n\t\tusername: `${username}`,\n\t\trole: `${role}`,\n\t\tcurrentUserId: `${currentUserId}`\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tnull,\n)","import { auth } from '../../redux/action'\nimport { AuthAction } from '../../redux/action/auth'\nimport { Dispatch } from 'react'\n\nexport type AuthDispatcher = (token: string, userId: string, username: string, role: string) => AuthAction\nexport const mapAuthDispatchToProps = (dispatch: Dispatch<AuthAction>) => {\n\treturn {\n\t\tauth: (token: string, userId: string, username: string, role: string) => {\n\t\t\treturn dispatch(auth(token, userId, username, role))\n\t\t},\n\t}\n}","import _ from 'lodash'\nimport React from 'react'\nimport TripDetail from './TripDetail'\nimport { Fetcher, FetchStatusProps } from '../../com/fetcher'\nimport { Loader } from '../atom'\nimport { Search } from './form'\nimport { withCurrentUser } from '../hoc'\nimport './showroom.scss'\n\nclass $Showroom extends React.Component<any, any> {\n\tconstructor(props: any) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t\terrorCode: '',\n\t\t\tsuccess: false,\n\t\t\tsuccessCode: '',\n\t\t}\n\t}\n\tsuggestions = []\n\tfetchStatus: FetchStatusProps = {\n\t\tready: false,\n\t\tcancelToken: undefined,\n\t}\n\tfetch = () => {\n\t\tconst { currentUserId, externalQuery } = this.props\n\n\t\tlet { request, tokenSource } = Fetcher.GET({\n\t\t\tsource: externalQuery ? externalQuery : `suggestion${currentUserId !== '' ? `?user_id=${currentUserId}` : ''}`,\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tlet { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\t\t\tthis.suggestions = _.cloneDeep(response.data.suggestions)\n\t\t\tthis.fetchStatus.ready = true\n\t\t\tthis.setState({\n\t\t\t\tsuccess: true\n\t\t\t})\n\t\t}).catch(() => {\n\t\t\tthis.fetchStatus.ready = true\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tif (!this.fetchStatus.ready) {\n\t\t\tthis.fetch()\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tif (!this.fetchStatus.ready) {\n\t\t\tthis.fetch()\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\tlet cancelToken\n\t\tcancelToken = this.fetchStatus.cancelToken\n\t\tif (cancelToken)\n\t\t\tcancelToken.cancel()\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"siteView--2col\">\n\t\t\t\t{this.fetchStatus.ready\n\t\t\t\t\t? this.state.success && this.suggestions\n\t\t\t\t\t\t? <React.Fragment>\n\t\t\t\t\t\t\t<Search display=\"COLUMN\" mode=\"auto\" formId=\"inline-search\" />\n\t\t\t\t\t\t\t<div className=\"showroom\">\n\t\t\t\t\t\t\t\t{this.suggestions.map((element) => {\n\t\t\t\t\t\t\t\t\treturn <TripDetail key={element} id={element} />\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t: <div className=\"ctn--gridRowFluid p-3 mt-1 showroom__message\">Đã xảy ra lỗi</div>\n\t\t\t\t\t: <div className=\"ctn--gridRowFluid p-3 mt-1 showroom__message\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default withCurrentUser($Showroom)","import { mergeDeepRight } from 'ramda'\nimport { validateChain } from '../../com'\nimport './dropdown.scss'\nimport React, {\n\tcreateRef,\n\tRefObject,\n\tReactChild,\n} from 'react'\n\nexport type PersistType = {\n\tclickOutside?: boolean,\n\tclickInside?: boolean,\n}\nexport type DropdownMeta = {\n\tedge?: 'TOP' | 'BOTTOM' | 'LEFT' | 'RIGHT',\n\talign?: 'CENTER' | 'TOP' | 'BOTTOM' | 'LEFT' | 'RIGHT',\n\tsmart?: boolean,\n\tpersist?: PersistType,\n}\nexport type DropdownType = {\n\tchild: ReactChild,\n\tdrop: ReactChild,\n\tmeta?: DropdownMeta,\n\toverrideStatus?: boolean,\n\tcontainerClassname?: string,\n\tdropClassname?: string,\n}\n\n// value already valid in withDropdown\nconst getPosition = (contSize: ClientRect, dropSize: ClientRect, __meta: DropdownMeta) => {\n\tconst { edge, align, smart } = __meta\n\tconst code = `${edge}_${align}`\n\tconst { height: contHeight, width: contWidth } = contSize\n\tconst { height: dropHeight, width: dropWidth } = dropSize\n\tlet top = 0, left = 0\n\tswitch (code) {\n\t\tcase 'TOP_LEFT': {\n\t\t\ttop = contHeight\n\t\t\tbreak\n\t\t}\n\t\tcase 'TOP_CENTER': {\n\t\t\ttop = contHeight\n\t\t\tleft = (contWidth - dropWidth) / 2\n\t\t\tbreak\n\t\t}\n\t\tcase 'TOP_RIGHT': {\n\t\t\ttop = contHeight\n\t\t\tleft = (contWidth - dropWidth)\n\t\t\tbreak\n\t\t}\n\t\tcase 'BOTTOM_LEFT': {\n\t\t\ttop = contHeight\n\t\t\tbreak\n\t\t}\n\t\tcase 'BOTTOM_CENTER': {\n\t\t\ttop = contHeight\n\t\t\tleft = (contWidth - dropWidth) / 2\n\t\t\tbreak\n\t\t}\n\t\tcase 'BOTTOM_RIGHT': {\n\t\t\ttop = contHeight\n\t\t\tleft = (contWidth - dropWidth)\n\t\t\tbreak\n\t\t}\n\t\tcase 'LEFT_TOP': {\n\t\t\tleft = contWidth\n\t\t\tbreak\n\t\t}\n\t\tcase 'LEFT_CENTER': {\n\t\t\tleft = contWidth\n\t\t\ttop = (contHeight - dropHeight) / 2\n\t\t\tbreak\n\t\t}\n\t\tcase 'LEFT_BOTTOM': {\n\t\t\tleft = contWidth\n\t\t\ttop = contHeight - dropHeight\n\t\t\tbreak\n\t\t}\n\t\tcase 'RIGHT_TOP': {\n\t\t\tleft = -dropWidth\n\t\t\tbreak\n\t\t}\n\t\tcase 'RIGHT_CENTER': {\n\t\t\tleft = -dropWidth\n\t\t\ttop = (contHeight - dropHeight) / 2\n\t\t\tbreak\n\t\t}\n\t\tcase 'RIGHT_BOTTOM': {\n\t\t\tleft = -dropWidth\n\t\t\ttop = contHeight - dropHeight\n\t\t\tbreak\n\t\t}\n\t}\n\treturn { top, left }\n}\n\nexport class Dropdown extends React.Component<DropdownType> {\n\tconstructor(props: DropdownType) {\n\t\tsuper(props)\n\t\tthis.handleOutsideClick.bind(this)\n\t}\n\tdefaultMeta: DropdownMeta = {\n\t\tedge: 'TOP',\n\t\talign: 'LEFT',\n\t\tsmart: true,\n\t\tpersist: {\n\t\t\tclickInside: false,\n\t\t\tclickOutside: false,\n\t\t},\n\t}\n\t_meta = mergeDeepRight(this.defaultMeta, this.props.meta)\n\tisOpen = false\n\trefCont = createRef() as RefObject<HTMLDivElement>\n\trefDrop = createRef() as RefObject<HTMLDivElement>\n\thandleOutsideClick = (event: MouseEvent) => {\n\t\tevent.stopPropagation()\n\t\tconst currentRefDrop = this.refDrop.current\n\t\tconst currentRefCont = this.refCont.current\n\t\tif (currentRefDrop !== null && currentRefCont !== null)\n\t\t\tif (!currentRefDrop.contains(event.target as Node)\n\t\t\t\t&& !currentRefCont.contains(event.target as Node)) {\n\t\t\t\tthis.isOpen = true\n\t\t\t\tthis.toggleState()\n\t\t\t}\n\t}\n\ttoggleState = () => {\n\t\tif (this.props.overrideStatus !== undefined) {\n\t\t\tthis.isOpen = this.props.overrideStatus\n\t\t} else this.isOpen = !this.isOpen\n\t\tconst currentCont = this.refCont.current\n\t\tconst currentDrop = this.refDrop.current\n\n\t\tif (currentDrop !== null && currentCont !== null) {\n\t\t\tconst { top, left } = getPosition(\n\t\t\t\tcurrentCont.getBoundingClientRect(),\n\t\t\t\tcurrentDrop.getBoundingClientRect(),\n\t\t\t\tthis._meta)\n\n\t\t\tcurrentDrop.style.top = `${top}px`\n\t\t\tcurrentDrop.style.left = `${left}px`\n\t\t\tcurrentDrop.style.visibility = this.isOpen ? 'visible' : 'hidden'\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tif(this.props.overrideStatus !== undefined) {\n\t\t\tthis.toggleState()\n\t\t}\n\t\tif (!validateChain(this._meta, ['persist', 'clickOutside'], false))\n\t\t\tdocument.addEventListener('mousedown', this.handleOutsideClick);\n\t}\n\tcomponentWillUnmount() {\n\t\tif (!validateChain(this._meta, ['persist', 'clickOutside'], false))\n\t\t\tdocument.removeEventListener('mousedown', this.handleOutsideClick);\n\t}\n\trender() {\n\t\tconst { child, drop, containerClassname, dropClassname } = this.props\n\t\treturn (\n\t\t\t<div ref={this.refCont} className={`dropdown__container ${containerClassname}`}>\n\t\t\t\t<div onClick={() => this.toggleState()} className=\"dropdown__ele\" >{child}</div>\n\t\t\t\t<div ref={this.refDrop}\n\t\t\t\t\tclassName={`dropdown__drop ${dropClassname}`}\n\t\t\t\t\tonClick={validateChain(this._meta, ['persist', 'clickInside'], false)\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: () => this.toggleState()}>\n\t\t\t\t\t{drop}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import { ChangeEvent } from 'react'\n\nexport type RetrieveInputParam = ChangeEvent<HTMLInputElement> | ChangeEvent<HTMLTextAreaElement>\nexport type RetrieveInputProps = {\n\tchecked: boolean,\n\tvalue: { [k: string]: string },\n\trawValue: string,\n\te: RetrieveInputParam\n}\nconst retrieveInput = (e: RetrieveInputParam, paramName:string = 'name'): RetrieveInputProps => {\n\tconst { value: _value } = e.currentTarget\n\tlet checked = false\n\tif ('checked' in e.currentTarget)\n\t\tchecked = e.currentTarget.checked\n\tconst name = e.currentTarget.getAttribute(paramName) as string\n\tlet value: any = {}\n\tvalue[name] = _value\n\treturn {\n\t\tchecked,\n\t\tvalue,\n\t\te,\n\t\trawValue: _value,\n\t}\n}\n\nexport {\n\tretrieveInput\n}","import Input from '../atom/form'\nimport React, { FormEvent, ReactChild } from 'react'\nimport { Card, Split } from '../atom'\nimport { Fetcher, FetchStatusProps } from '../../com/fetcher'\nimport { NavLink } from 'react-router-dom'\nimport { ProfileImage } from '../../layout/Profile'\nimport { retrieveInput } from '../../com/event'\nimport { ReviewLabel } from '../lang'\nimport { withCurrentUser } from '../hoc'\nimport './Review.scss'\n\ntype ReviewProps = {\n\tid: string,\n\tuserId: string,\n\ttripId: string,\n\tcurrentUserId: string,\n\tname?: string,\n\tdisabled?: boolean,\n\tdefaultRating?: number,\n\tcontent?: string,\n\tupdatedDate?: string,\n}\ntype ReviewState = {\n\terror: boolean,\n\terrorCode: string,\n\tsuccess: boolean,\n\tsuccessCode: string,\n}\nclass $Review extends React.Component<ReviewProps, ReviewState> {\n\tconstructor(props: ReviewProps) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t\terrorCode: '',\n\t\t\tsuccess: false,\n\t\t\tsuccessCode: '',\n\t\t}\n\t}\n\tlang: { [key: string]: ReactChild } = {\n\t\tplaceholder: 'Tối thiểu 15 ký tự, vui lòng nhập tiếng Việt có dấu',\n\t\tmissingComment: 'Vui lòng điền nhận xét trước khi đăng',\n\t\ttooShortComment: 'Vui lòng điền nhận xét dài hơn 15 ký tự',\n\t\tmissingRate: 'Vui lòng đánh giá thang điểm trước khi đăng',\n\t}\n\treviewData = {\n\t\tuser_id: parseInt(this.props.userId),\n\t\ttravel_id: parseInt(this.props.tripId),\n\t\trated: false,\n\t\trating: -1,\n\t\ttempRating: -1,\n\t\tconmented: false,\n\t\tcontent: '',\n\t}\n\tfetchStatus: FetchStatusProps = {\n\t\tready: false,\n\t\tcancelToken: undefined,\n\t}\n\tonSubmit = (e: FormEvent<HTMLInputElement>) => {\n\t\te.preventDefault()\n\t\tconst { conmented, rated, content } = this.reviewData\n\t\tconst { currentUserId } = this.props\n\n\t\tif (!conmented)\n\t\t\treturn this.setState({\n\t\t\t\terror: true,\n\t\t\t\terrorCode: 'missingComment',\n\t\t\t})\n\t\telse if (content.length <= 15)\n\t\t\treturn this.setState({\n\t\t\t\terror: true,\n\t\t\t\terrorCode: 'tooShortComment',\n\t\t\t})\n\n\t\tif (!rated)\n\t\t\treturn this.setState({\n\t\t\t\terror: true,\n\t\t\t\terrorCode: 'missingRate',\n\t\t\t})\n\n\t\tconst { request, tokenSource } = Fetcher.POST({\n\t\t\tsource: `comment`,\n\t\t\tdata: {\n\t\t\t\t...this.reviewData,\n\t\t\t\tuser_id: currentUserId\n\t\t\t}\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tconst { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\n\t\t\tif (response.status === 200)\n\t\t\t\tlocation.reload()\n\t\t})\n\n\t\tthis.setState({\n\t\t\terror: false,\n\t\t\terrorCode: '',\n\t\t})\n\t}\n\tinputOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tthis.reviewData.rated = true\n\t\tthis.reviewData.rating = parseInt(retrieveInput(e).rawValue)\n\t}\n\ttextareaOnChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n\t\tthis.reviewData.conmented = true\n\t\tthis.reviewData.content = retrieveInput(e).rawValue\n\t}\n\tinputOnMouseover = (e: React.MouseEvent<HTMLLabelElement>) => {\n\t\tconst value = e.currentTarget.getAttribute('data-value')\n\t\tif (value !== null) {\n\t\t\tthis.reviewData.tempRating = parseInt(value)\n\t\t\tthis.forceUpdate()\n\t\t}\n\t}\n\trender() {\n\t\tconst { id, defaultRating, disabled, userId, content, updatedDate, name } = this.props\n\t\tconst { tempRating } = this.reviewData\n\t\tconst { error, errorCode, success, successCode } = this.state\n\t\tconst _updatedDate = updatedDate === undefined ? undefined : new Date(updatedDate)\n\t\tconst _value = defaultRating !== undefined ? defaultRating : tempRating\n\n\t\treturn (\n\t\t\t<div className=\"review p-1\">\n\t\t\t\t<div className=\"reviewHeader\">\n\t\t\t\t\t<h3>\n\t\t\t\t\t\t<NavLink className=\"review__Username\" to={`/profile/${userId}`}>{name}</NavLink>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"review__Date\">\n\t\t\t\t\t\t{_updatedDate !== undefined\n\t\t\t\t\t\t\t? `${_updatedDate.toLocaleString('vn-VN', {\n\t\t\t\t\t\t\t\thour12: false\n\t\t\t\t\t\t\t})}`\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Input.Rate\n\t\t\t\t\t\tname={`rate${id}`}\n\t\t\t\t\t\tlabelList={ReviewLabel}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\tonChange: this.inputOnChange\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlabelProps={{\n\t\t\t\t\t\t\tonMouseOver: !(disabled) ? this.inputOnMouseover : undefined,\n\t\t\t\t\t\t\ttitle: disabled ? ReviewLabel[_value] : ''\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trating={_value} />\n\t\t\t\t\t{_value !== undefined ? ReviewLabel[_value] : ''}\n\t\t\t\t</div>\n\t\t\t\t<Split dir=\"hor\" />\n\t\t\t\t{disabled\n\t\t\t\t\t? content\n\t\t\t\t\t: <textarea\n\t\t\t\t\t\tplaceholder={this.lang.placeholder.toString()}\n\t\t\t\t\t\tname={`cmt${id}`}\n\t\t\t\t\t\tonChange={this.textareaOnChange} />\n\t\t\t\t}\n\t\t\t\t<div className=\"pt-1\">\n\t\t\t\t\t{error && <Card.Error>{this.lang[errorCode]}</Card.Error>}\n\t\t\t\t\t{success && <Card.Success>{this.lang[successCode]}</Card.Success>}\n\t\t\t\t</div>\n\t\t\t\t{!disabled\n\t\t\t\t\t&& <input\n\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\tonClick={this.onSubmit}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"Đăng\" />\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport const Review = withCurrentUser($Review)","import React from 'react'\nimport { Dropdown } from '../../comp/module'\nimport { NavLink } from 'react-router-dom'\nimport { withCurrentUser } from '../../comp/hoc'\n\nconst AvatarDropdown = (props: _HeaderAvatarProps) => {\n\tconst { currentUserId } = props\n\treturn <div className=\"ctn--stack p-2 drop--shadow\" style={{ width: '250px' }}>\n\t\t<NavLink className=\"nav-link dropdown-item\" to={`/profile/${currentUserId}`} >{'Thông tin cá nhân'}</NavLink>\n\t\t<NavLink className=\"nav-link dropdown-item\" to={`/logout`} >{'Đăng xuất'}</NavLink>\n\t</div>\n}\n\ntype _HeaderAvatarProps = {\n\tcurrentUserId: string\n}\nconst _HeaderAvatar = (props: _HeaderAvatarProps) => {\n\tconst { currentUserId } = props\n\tconst username = window.localStorage.getItem('USERNAME')\n\n\treturn <Dropdown\n\t\tmeta={{\n\t\t\talign: 'RIGHT'\n\t\t}}\n\t\tchild={<div>{username !== null ? <div className=\"siteHeader__username\">\n\t\t\t<label>Xin chào</label>\n\t\t\t<h2>{username}</h2>\n\t\t</div> : ''}</div>}\n\t\tdrop={<AvatarDropdown currentUserId={currentUserId} />} />\n}\n\nexport const HeaderAvatar = withCurrentUser(_HeaderAvatar)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Dropdown } from '../../comp/module'\nimport { HeaderAvatar } from './HeaderAvatar'\nimport { LoginForm, RegisterForm, Search } from '../../comp/module/form'\nimport { mapAuthDispatchToProps } from '../../comp/hoc'\nimport { NavLink } from 'react-router-dom'\nimport '../index.scss'\nimport '../Profile.scss'\n\nconst mapStateToProps = (state: any) => {\n\treturn { authStatus: state.authorization.authStatus }\n}\n\nconst HeaderContainer = (props: any) => {\n\tconst { auth } = props\n\tconst { authStatus } = props\n\treturn (\n\t\t<div className=\"siteHeader\">\n\t\t\t<div style={{\n\t\t\t\tborderRight: '2px solid var(--bd0)',\n\t\t\t\tpaddingRight: '1rem',\n\t\t\t\tmarginRight: '1rem',\n\t\t\t}}>\n\t\t\t\t<NavLink to=\"/\" >\n\t\t\t\t\t<img style={{ height: '60px' }} src={require('../../image/logo--full.png')} />\n\t\t\t\t</NavLink>\n\t\t\t</div>\n\t\t\t<Search formId=\"top-search\" />\n\t\t\t{authStatus === true\n\t\t\t\t? <HeaderAvatar />\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{authStatus === false\n\t\t\t\t? <div className=\"siteHeader__logButton\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tmeta={{\n\t\t\t\t\t\t\talign: 'LEFT',\n\t\t\t\t\t\t\tpersist: {\n\t\t\t\t\t\t\t\tclickInside: true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tchild={<div className=\"siteHeader__button\">Đăng ký</div>}\n\t\t\t\t\t\tdrop={<RegisterForm id=\"register\" method={{ auth }} />} />\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tmeta={{\n\t\t\t\t\t\t\talign: 'RIGHT',\n\t\t\t\t\t\t\tpersist: {\n\t\t\t\t\t\t\t\tclickInside: true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tchild={<div className=\"siteHeader__button\">Đăng nhập</div>}\n\t\t\t\t\t\tdrop={<LoginForm id=\"login\" method={{ auth }} />} />\n\t\t\t\t</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t</div >\n\t)\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapAuthDispatchToProps\n)(HeaderContainer)","import _ from 'lodash'\nimport React from 'react'\nimport { Fetcher, FetchStatusProps } from '../com/fetcher'\nimport { Loader } from '../comp/atom'\nimport { Review, TripDetail } from '../comp/module'\nimport { withCurrentUser } from '../comp/hoc'\nimport { WithCurrentUserProps } from '../comp/hoc/withCurrentUser'\nimport './Trip.scss'\n\ntype TripProps = {\n\tid: string\n} & WithCurrentUserProps\nclass $Trip extends React.Component<TripProps> {\n\treviews = []\n\tfetchStatus: FetchStatusProps = {\n\t\tready: false,\n\t\tcancelToken: undefined,\n\t}\n\tfetch = () => {\n\t\tconst { id } = this.props\n\t\tlet { request, tokenSource } = Fetcher.GET({\n\t\t\tsource: `travel_comments/${id}`,\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tlet { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\t\t\tthis.fetchStatus.ready = true\n\n\t\t\tthis.reviews = _.cloneDeep(response.data.comments)\n\t\t\tthis.forceUpdate()\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tif (this.props.currentUserId !== '' && !this.fetchStatus.ready) {\n\t\t\tthis.fetch()\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tif (this.props.currentUserId !== '' && !this.fetchStatus.ready) {\n\t\t\tthis.fetch()\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\tlet cancelToken\n\t\tcancelToken = this.fetchStatus.cancelToken\n\t\tif (cancelToken)\n\t\t\tcancelToken.cancel()\n\t}\n\trender() {\n\t\tconst { id, currentUserId } = this.props\n\t\tconst { ready } = this.fetchStatus\n\t\tconst isAlreadyCommented = this.reviews.filter((review: any) => {\n\t\t\treturn currentUserId && `${review.user_id}` === currentUserId\n\t\t})\n\n\t\treturn (\n\t\t\t<div className=\"trip\">\n\t\t\t\t<div style={{ gridArea: 'detail' }}>\n\t\t\t\t\t<TripDetail id={id} showMap />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tripReview\">\n\t\t\t\t\t{(currentUserId && isAlreadyCommented.length === 0) || this.reviews.length === 0\n\t\t\t\t\t\t? <Review id=\"0\" tripId={id} userId={currentUserId} />\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{ready\n\t\t\t\t\t\t? this.reviews.map((review) => {\n\t\t\t\t\t\t\tconst { id, user_id, content, updated_at, rating, username } = review\n\n\t\t\t\t\t\t\treturn <Review\n\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tuserId={user_id}\n\t\t\t\t\t\t\t\tname={username}\n\t\t\t\t\t\t\t\ttripId={id}\n\t\t\t\t\t\t\t\tcomment={content}\n\t\t\t\t\t\t\t\tupdatedDate={updated_at}\n\t\t\t\t\t\t\t\tdefaultRating={rating}\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t{...review} />\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: <Loader />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tripSimilar\">\n\t\t\t\t\t{/* Similar recommend */}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default withCurrentUser($Trip)","import _ from 'lodash'\nimport history from '../route/history'\nimport Input from '../comp/atom/form'\nimport React, {\n\tChangeEvent,\n\tDispatch,\n\tFormEvent,\n\tReactChild\n\t} from 'react'\nimport { Card, Loader, Tag } from '../comp/atom'\nimport { changeUsername, ProfileAction } from '../redux/action/profile'\nimport { connect } from 'react-redux'\nimport { Fetcher, FetchStatusProps } from '../com/fetcher'\nimport { InputWithLabel } from '../comp/atom/form'\nimport { preservingMerge } from '../com/shorten'\nimport { retrieveInput } from '../com/event'\nimport { TagColorScheme, TagLabel } from '../comp/lang'\nimport { withCurrentUser } from '../comp/hoc'\nimport { WithCurrentUserProps } from '../comp/hoc/withCurrentUser'\nimport './Profile.scss'\nimport 'react-input-range/lib/css/index.css'\n\nconst mapProfileDispatchtoProps = (dispatch: Dispatch<ProfileAction>) => {\n\treturn {\n\t\tchange: (username: string) => {\n\t\t\treturn dispatch(changeUsername(username))\n\t\t},\n\t}\n}\n\nexport const ProfileImage = (src: any) => {\n\treturn (\n\t\t<figure className=\"profile__cont--avt\">\n\t\t\t<img className=\"profile__cont--avatar profile__avatar\" src=\"/\" />\n\t\t</figure>\n\t)\n}\n\ntype ProfileFormProps = {\n\tid: string,\n} & WithCurrentUserProps & {\n\tchange: (username: string) => void\n}\ntype ProfileFormState = {\n\terror: boolean,\n\terrorCode: string,\n\tsuccess: boolean,\n\tsuccessCode: string,\n}\ntype ProfileData = {\n\temail: string,\n\tgender: string,\n\tusername: string,\n\toldpassword: string,\n\tpassword: string,\n\trepassword: string,\n\tfavorites: number[],\n}\nclass $Profile extends React.Component<ProfileFormProps, ProfileFormState> {\n\tconstructor(props: ProfileFormProps) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\terror: false,\n\t\t\terrorCode: '',\n\t\t\tsuccess: false,\n\t\t\tsuccessCode: '',\n\t\t}\n\t}\n\tlang: { [key: string]: ReactChild } = {\n\t\tmismatchPassword: 'Mật khẩu mới không khớp với mật khẩu xác nhận',\n\t\toldPasswordMissing: 'Vui lòng nhập mật khẩu cũ để thay đổi mật khẩu',\n\t\tupdated: 'Đã cập nhật'\n\t}\n\tformInputs = [\n\t\t{\n\t\t\tlabel: 'Email',\n\t\t\ttype: 'email',\n\t\t\tname: 'email',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Tên tài khoản',\n\t\t\ttype: 'text',\n\t\t\tname: 'username',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Mật khẩu cũ',\n\t\t\ttype: 'password',\n\t\t\tname: 'oldpassword',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Mật khẩu mới',\n\t\t\ttype: 'password',\n\t\t\tname: 'password',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Xác nhận',\n\t\t\ttype: 'password',\n\t\t\tname: 'repassword',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Ưa thích',\n\t\t\tname: 'preference',\n\t\t},\n\t]\n\tprofileData: ProfileData = {\n\t\temail: '',\n\t\tgender: '',\n\t\tusername: '',\n\t\toldpassword: '',\n\t\tpassword: '',\n\t\trepassword: '',\n\t\tfavorites: [],\n\t}\n\tonChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst { value } = retrieveInput(e)\n\t\tthis.profileData = preservingMerge(this.profileData, value)\n\t\tthis.forceUpdate()\n\t}\n\tonFavoriteChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tconst { rawValue, checked } = retrieveInput(e)\n\t\tconst { favorites } = this.profileData\n\t\tconst value = parseInt(rawValue)\n\t\tif (checked)\n\t\t\tfavorites.push(value)\n\t\telse this.profileData.favorites = favorites.filter((currentValue) => currentValue !== value)\n\t\t\t.filter((currentValue, index, self) => self.indexOf(currentValue) === index)\n\t\tconsole.log(checked, this.profileData.favorites)\n\t\tthis.forceUpdate()\n\t}\n\tsubmit = (e: FormEvent<HTMLInputElement>) => {\n\t\te.preventDefault()\n\t\tconst { id, change } = this.props\n\t\tconst { email, gender, username, oldpassword, password, repassword, favorites } = this.profileData\n\n\t\tif (oldpassword === '')\n\t\t\tif (password !== repassword)\n\t\t\t\treturn this.setState({\n\t\t\t\t\terror: true,\n\t\t\t\t\terrorCode: 'oldPasswordMissing',\n\t\t\t\t})\n\n\t\tif (password !== repassword)\n\t\t\treturn this.setState({\n\t\t\t\terror: true,\n\t\t\t\terrorCode: 'mismatchPassword',\n\t\t\t})\n\n\t\tconst { request, tokenSource } = Fetcher.PATCH({\n\t\t\tsource: `user?id=${id}`,\n\t\t\tdata: {\n\t\t\t\temail,\n\t\t\t\tgender,\n\t\t\t\tusername,\n\t\t\t\toldpassword,\n\t\t\t\tpassword,\n\t\t\t\trepassword,\n\t\t\t\tfavorites: favorites.join(','),\n\t\t\t}\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tconst { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\n\t\t\tif (response.status === 200) {\n\t\t\t\tchange(username)\n\t\t\t\tthis.setState({\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tsuccessCode: 'updated'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\tthis.setState({\n\t\t\terror: false,\n\t\t\terrorCode: '',\n\t\t})\n\t}\n\tfetchStatus: FetchStatusProps = {\n\t\tready: false,\n\t\tcancelToken: undefined,\n\t}\n\tfetch = () => {\n\t\tconst { id } = this.props\n\t\tconst { request, tokenSource } = Fetcher.GET({\n\t\t\tsource: `user?id=${id}`,\n\t\t})\n\t\tthis.fetchStatus.cancelToken = tokenSource\n\t\trequest.then((response) => {\n\t\t\tconst { cancelToken } = this.fetchStatus\n\t\t\tif (cancelToken)\n\t\t\t\tthis.fetchStatus.cancelToken = undefined\n\n\t\t\tthis.profileData = preservingMerge(this.profileData, response.data)\n\t\t\tthis.fetchStatus.ready = true\n\t\t\tthis.setState({\n\t\t\t\tsuccess: true\n\t\t\t})\n\t\t}).catch(() => {\n\t\t\tthis.fetchStatus.ready = true\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tif (this.props.currentUserId !== '' && !this.fetchStatus.ready)\n\t\t\tthis.fetch()\n\t}\n\tcomponentDidUpdate() {\n\t\tif (this.props.currentUserId !== '' && !this.fetchStatus.ready)\n\t\t\tthis.fetch()\n\t}\n\tshouldComponentUpdate(nextProps: ProfileFormProps) {\n\t\tif (nextProps.currentUserId !== '')\n\t\t\treturn true\n\t\treturn false\n\t}\n\tcomponentWillUnmount() {\n\t\tlet cancelToken\n\t\tcancelToken = this.fetchStatus.cancelToken\n\t\tif (cancelToken)\n\t\t\tcancelToken.cancel()\n\t}\n\trenderProfile() {\n\t\tconst { id, currentUserId } = this.props\n\t\tconst { error, errorCode, success, successCode } = this.state\n\t\tconst { email, gender, username, favorites } = this.profileData\n\t\tconst isCurrentUser = id === currentUserId\n\t\tconst inputs = this.formInputs.map((element, index) => {\n\t\t\treturn {\n\t\t\t\t...element,\n\t\t\t\tformId: id,\n\t\t\t\tid: `${index}`,\n\t\t\t\tdisabled: index !== 0 ? !isCurrentUser : true\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"profile__cont--info\">\n\t\t\t\t\t<div className=\"profile__cont--content\">\n\t\t\t\t\t\t{isCurrentUser\n\t\t\t\t\t\t\t&& <InputWithLabel disabledLabelProps={{ className: 'disabledValue' }} type=\"text\" value={email} {...inputs[0]} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<InputWithLabel\n\t\t\t\t\t\t\tdisabledLabelProps={{ className: 'disabledValue' }}\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tinputProps={{ type: 'text', onChange: this.onChange }}\n\t\t\t\t\t\t\t{...inputs[1]} />\n\t\t\t\t\t\t<InputWithLabel\n\t\t\t\t\t\t\tlabel=\"Giới tính\"\n\t\t\t\t\t\t\tformId={id}\n\t\t\t\t\t\t\tid='sex'\n\t\t\t\t\t\t\tdisabled={!isCurrentUser}\n\t\t\t\t\t\t\tvalue={gender}\n\t\t\t\t\t\t\tdisabledLabelProps={{ className: 'disabledValue' }}\n\t\t\t\t\t\t\tcustomInput={<div>\n\t\t\t\t\t\t\t\t<Input.Checkbox\n\t\t\t\t\t\t\t\t\tkey=\"male\"\n\t\t\t\t\t\t\t\t\tlabel=\"Nam\"\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'gender',\n\t\t\t\t\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\t\t\t\t\tvalue: 'Nam',\n\t\t\t\t\t\t\t\t\t\tdefaultChecked: gender === 'Nam' ? true : false,\n\t\t\t\t\t\t\t\t\t\tonChange: this.onChange\n\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Input.Checkbox\n\t\t\t\t\t\t\t\t\tkey=\"female\"\n\t\t\t\t\t\t\t\t\tlabel=\"Nữ\"\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tname: 'gender',\n\t\t\t\t\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\t\t\t\t\tvalue: 'Nữ',\n\t\t\t\t\t\t\t\t\t\tdefaultChecked: gender === 'Nữ' ? true : false,\n\t\t\t\t\t\t\t\t\t\tonChange: this.onChange\n\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t</div>} />\n\t\t\t\t\t\t{isCurrentUser\n\t\t\t\t\t\t\t&& <React.Fragment>\n\t\t\t\t\t\t\t\t<InputWithLabel {...inputs[2]}\n\t\t\t\t\t\t\t\t\tinputProps={{ type: 'password', onChange: this.onChange }} />\n\t\t\t\t\t\t\t\t<InputWithLabel {...inputs[3]}\n\t\t\t\t\t\t\t\t\tinputProps={{ type: 'password', onChange: this.onChange }} />\n\t\t\t\t\t\t\t\t<InputWithLabel {...inputs[4]}\n\t\t\t\t\t\t\t\t\tinputProps={{ type: 'password', onChange: this.onChange }} />\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<InputWithLabel {...inputs[5]}\n\t\t\t\t\tdisabled={false}\n\t\t\t\t\tcustomInput={<div className=\"profile__cont--tag\">\n\t\t\t\t\t\t{TagLabel.map((element, index) => {\n\t\t\t\t\t\t\treturn <Input.Checkbox\n\t\t\t\t\t\t\t\tkey={element}\n\t\t\t\t\t\t\t\tlabel={<Tag color={TagColorScheme[index]}\n\t\t\t\t\t\t\t\t\tclassName=\"ctn--fluid\"\n\t\t\t\t\t\t\t\t\tmode=\"OUTLINE\"\n\t\t\t\t\t\t\t\t\tdisabled={isCurrentUser ? false : true}>{element}</Tag>}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tname: `${index}`,\n\t\t\t\t\t\t\t\t\tvalue: index,\n\t\t\t\t\t\t\t\t\tonChange: isCurrentUser ? this.onFavoriteChange : undefined,\n\t\t\t\t\t\t\t\t\tdisabled: isCurrentUser ? false : true,\n\t\t\t\t\t\t\t\t\tdefaultChecked: favorites.indexOf(index) === -1 ? false : true\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>} />\n\t\t\t\t<div className=\"pt-1\">\n\t\t\t\t\t{error && <Card.Error>{this.lang[errorCode]}</Card.Error>}\n\t\t\t\t\t{success && <Card.Success>{this.lang[successCode]}</Card.Success>}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tisCurrentUser\n\t\t\t\t\t&& <div className=\"profile__cont--act\">\n\t\t\t\t\t\t<input onClick={this.submit} className=\"btn btn-success\" type=\"submit\" value=\"Hoàn tất\" />\n\t\t\t\t\t\t<button onClick={() => history.push('/')} className=\"btn btn-danger\">Hủy bỏ</button>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</React.Fragment >\n\t\t)\n\t}\n\trender() {\n\t\tconst { ready } = this.fetchStatus\n\n\t\treturn (\n\t\t\t<div className=\"ctn--stack p-3 mt-1 profile\">\n\t\t\t\t{ready\n\t\t\t\t\t? this.state.success\n\t\t\t\t\t\t? this.renderProfile()\n\t\t\t\t\t\t: <div className=\"ctn--gridRowFluid p-3 mt-1 profile__message\">Đã xảy ra lỗi</div>\n\t\t\t\t\t: <Loader />\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport const Profile = withCurrentUser(connect(\n\tnull,\n\tmapProfileDispatchtoProps\n)($Profile))","export type ProfileAction =\n\t| { type: 'CHANGE_USERNAME'; username: string }\n\t| { type: 'CHANGE_USERNAME_SUCCEED'; username: string }\n\nexport const changeUsername = (username: string): ProfileAction => ({\n\tusername,\n\ttype: 'CHANGE_USERNAME',\n})","import React from 'react'\nimport Trip from '../layout/Trip'\nimport { Logout, Showroom } from '../comp/module'\nimport { Profile } from '../layout/Profile'\nimport { Route, RouteComponentProps } from 'react-router'\nimport { Search } from '../comp/module/form'\n\nexport const UserRoute = () => {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Route exact path=\"/\" render={(props: any) => {\n\t\t\t\treturn <Showroom />\n\t\t\t}} />\n\t\t\t<Route exact path=\"/search\" render={(props: any) => {\n\t\t\t\treturn <Showroom externalQuery={`search${props.location.search}`} />\n\t\t\t}} />\n\t\t\t<Route exact path=\"/trip/:tripId\" render={(props: any) => {\n\t\t\t\tconst { tripId } = props.match.params\n\t\t\t\treturn <Trip id={tripId} />\n\t\t\t}} />\n\t\t\t<Route exact path=\"/favourite/:userId\" render={(props: any) => {\n\t\t\t\treturn <div>Hello favourite</div>\n\t\t\t}} />\n\t\t\t<Route exact path=\"/history/:userId\" render={(props: any) => {\n\t\t\t\treturn <div>Hello history</div>\n\t\t\t}} />\n\t\t\t<Route exact path=\"/profile/:userId\" render={(props: RouteComponentProps<{ userId: string }>) => {\n\t\t\t\tconst { userId } = props.match.params\n\t\t\t\treturn <Profile id={`${userId}`} />\n\t\t\t}} />\n\t\t\t<Route exact path=\"/logout\" render={(props: any) => {\n\t\t\t\treturn <Logout />\n\t\t\t}} />\n\t\t</React.Fragment>\n\t)\n}","import React from 'react'\nimport { UserRoute } from '../../route'\n\nconst View = () => {\n\treturn (\n\t\t<div className=\"siteView p-2\" style={{ textAlign: 'center' }}>\n\t\t\t<UserRoute />\n\t\t</div>\n\t)\n}\n\nexport default View","import FooterBar from './Footer'\nimport Header from './Header'\nimport React from 'react'\nimport View from './View'\nimport { connect } from 'react-redux'\nimport { mapAuthDispatchToProps } from '../comp/hoc'\nimport './index.scss'\n\nconst $SiteContainer = (props: any) => {\n\tconst { auth } = props\n\tconst token = window.localStorage.getItem('TOKEN')\n\tconst id = window.localStorage.getItem('ID')\n\tconst username = window.localStorage.getItem('USERNAME')\n\tconst role = window.localStorage.getItem('ROLE')\n\tif (token !== null && id !== null && username !== null && role !== null) {\n\t\tauth(token, id, username, role)\n\t}\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"siteOverlay\" />\n\t\t\t<div className=\"siteContainer\">\n\t\t\t\t<Header />\n\t\t\t\t<View />\n\t\t\t\t<FooterBar />\n\t\t\t</div>\n\t\t</React.Fragment>\n\t)\n}\n\nexport const SiteContainer = connect(\n\tnull,\n\tmapAuthDispatchToProps,\n)($SiteContainer)","import createSagaMiddleware from 'redux-saga'\nimport React from 'react'\nimport rootReducer from './redux/reducer'\nimport sagaToken from './redux/saga'\nimport { applyMiddleware, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { faArrowRight, faCheck, faSearch } from '@fortawesome/free-solid-svg-icons'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { Provider } from 'react-redux'\nimport { SiteContainer } from './layout'\nimport { withRootRouter } from './route'\n\nlibrary.add(faCheck, faSearch, faArrowRight)\n\nconst sagaMiddleware = createSagaMiddleware()\nconst store = createStore(rootReducer, composeWithDevTools(\n\tapplyMiddleware(sagaMiddleware)\n))\n\nsagaMiddleware.run(sagaToken)\n\nconst App = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t{withRootRouter(<SiteContainer />)}\n\t\t</Provider>\n\t)\n}\n\nexport default App\n","import history from './history'\nimport React, { ReactChild } from 'react'\nimport { Router } from 'react-router-dom'\nimport { UserRoute } from './user'\n\nconst withRootRouter = (component: ReactChild) => {\n\treturn (\n\t\t<Router history={history}>\n\t\t\t{component}\n\t\t</Router>\n\t)\n}\n\nexport {\n\twithRootRouter,\n\tUserRoute,\n}","import * as serviceWorker from './serviceWorker'\nimport App from './App'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport './style/theme.scss'\nimport './style/layout.scss'\nimport './style/override.scss'\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}